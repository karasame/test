# ミニアプリ 1 デモシナリオ

## デモシナリオ

### シナリオ 1: 持出

**ユーザーストーリー:**

> セールスドライバーとして、持出作業をして、出庫前タスクを行う

- **前提条件**

  - 端末は　検証端末 4 cipherlab 　 RS38 を使用する

- **テストステップ:持出**

  1. アプリを起動する
     - ホーム画面が表示される
  1. 出庫前タスク - 持出の「開始」ボタンをタップする
     - 荷物追加画面に遷移する
  1. タブ選択で行う作業を選べる（持出作業・引継ぎ作業）
  1. 端末の両側にある黄色の物理ボタンを押し、伝票バーコードをスキャンする
     - スキャンした番号がハイフンで区切られた形で記入した持出荷物カードが表示され、スキャン済み個数は計上される
  1. 続いて異なる伝票バーコードバーコードをスキャンする
     - 持出荷物カードの伝票番号が変わり、スキャン済み個数は計上される
  1. 画面下部の「小計」ボタンをタップする
     - 持出小計画面に遷移する
  1. 画面下部の「完了」ボタンをタップする
     - ホーム画面に戻る

### シナリオ 2: 集荷

**ユーザーストーリー:**

> セールスドライバーとして、集荷を実施する

- **前提条件**

  - 端末は　検証端末 4 cipherlab 　 RS38 を使用する
  - アプリがインストールされている
  - アプリが起動している

- **テストステップ**

  1. 画面下部のメニューから集配一覧タブをタップする
     - 集配一覧に遷移する
  1. カード一覧から集ラベル（青色）のあるタスクカードの「作業」ボタン（黄色）をタップする
     - 作業一覧画面に遷移する
  1. 「集荷作業」ボタン（黄色）をタップする
     - 生産種別選択メニューが表示される
  1. 「一般顧客」ボタン（黄色）をタップする
     - 集荷報告画面に遷移する
  1. 端末の両側にある黄色の物理ボタンを押し、伝票バーコードをスキャンする
     - 住所検索画面に遷移し、スキャンした伝票番号が画面に表示される
  1. 「住所検索」ボタン（白色）をタップする
     - 住所確認モーダルが表示される
  1. 「OK」ボタン（黄色）をタップする
     - サイズ・品目選択に遷移し、先の手順での情報が画面に表示される
  1. 適宜に品名・サイズを選択し、画面下部の「次へ」ボタン（黄色）をタップする
     - 配達希望日画面に遷移し、先ほどの手順での情報が画面に表示される
  1. 適宜に配達希望日を選択し、画面下部の「次へ」ボタン（黄色）をタップする
     - 配達時間帯画面に遷移し、先ほどの手順での情報が画面に表示される
  1. 適宜に配達時間を選択し、画面下部の「次へ」ボタン（黄色）をタップする
     - 運賃画面に遷移し、先ほどでの手順での情報に基づいた運賃（仮）が画面に表示される
  1. 画面下部の「完了」ボタン（黄色）をタップする
     - 小計画面に遷移する。
  1. 適宜に「決済」ボタン（黄色）をタップする
     - 集配一覧画面に戻る
     - 画面上部の作業中タスクの数が 1 減少する
     - カード一覧から先ほど作業したタスクカードが消える

### シナリオ 3: 配達

**ユーザーストーリー:**

> セールスドライバーとして、配達を実施する。

- **前提条件**

  - 端末は　検証端末 4 cipherlab 　 RS38 を使用する
  - アプリがインストールされている
  - アプリが起動している

- **テストステップ:単一荷物の場合**

  1. 画面下部のメニューから集配一覧タブをタップする
     - 集配一覧に遷移する
  1. 配ラベル（緑色）のあるタスクカードのうち、「作業」ボタン（黄色）の右上に**数字がない**カードの「作業」ボタンをタップする
     - 作業一覧画面に遷移し、荷物の情報、宅配ボックス・玄関置きなどの配達方法が表示される
  1. 画面下部の「配完」ボタン（黄色）をタップする
     - 配達準備画面に遷移し、配達する荷物の情報が表示される
  1. 画面下部の「次へ」ボタン（黄色）をタップする
     - 配完画面に遷移する。この画面では配達完了か持戻りかを選ぶ
  1. 画面下部の「配完」ボタン（黄色）をタップする
     - 集配一覧画面に戻る
     - 画面上部の作業中タスクの数が 1 減少する
     - カード一覧から先ほど作業したタスクカードが消える

- **テストステップ:複数荷物の場合**

  1. 画面下部のメニューから集配一覧タブをタップする
     - 集配一覧に遷移する
  1. 配ラベル（緑色）のあるタスクカードのうち、「作業」ボタン（黄色）の右上に**数字が 3 と書いてある**カードの「作業」ボタンをタップする
     - 作業一覧画面に遷移し、先ほどの数字と同じ数量のタスクカードが配達方法に分けられて表示される
     - 配達方法の数量に併せて、画面下部に「配完（玄関）」、「配完（宅配ボックス）」ボタン（黄色）が表示される
  1. 画面下部の「配完（玄関）」ボタン（黄色）をタップする
     - 配達準備画面に遷移し、配達する荷物 2 件のタスクカードが並べてが表示される
  1. 画面下部の「次へ」ボタン（黄色）をタップする
     - 作業一覧画面に戻り、先ほど配完とした 2 件のタスクカードが消える
     - 「配完（玄関）」ボタン（黄色）が消える
  1. 画面下部の「配完（宅配ボックス）」ボタン（黄色）をタップする
     - 配達準備画面に遷移し、残りの 1 件のタスクカードが表示される
  1. 画面下部の「次へ」ボタン（黄色）をタップする
     - 配完画面に遷移する
     - この画面では配達完了か持戻りかを選ぶ
  1. 画面下部の「配完」ボタン（黄色）をタップする
     - 集配一覧画面に戻る
     - 画面上部の作業中タスクの数が 1 減少する
     - カード一覧から先ほど作業したタスクカードが消える

## 留意事項

- 実機に合わせた UI 調整が間に合わないため、システムのフォントサイズを一番小さいほうに調整してデモを行うこと
- 現段階では正しい伝票番号かどうかの判定ロジックはなく、動作デモとしてスキャンできるものをすべて記録する
- スキャン機能の動作確認が目的であるため、持出・集荷画面にのみ動作する
- 小計画面などの一部の画面は都合により、前の画面からデータを取得していない
