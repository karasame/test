## 既存 application 設定回りの構成

### ConfigManager

コンフィグ読み込み、コンフィグ設定取り出しの基礎機能を提供

### ApplicationConfig

ConfigManager をマップしてアプリケーション用のコンフィグ操作・取得メソッドを提供

### SystemConfig

ConfigManager をマップしてシステム関連のコンフィグ操作・取得メソッドを提供

### VoyageApplication

Voyage の初期処理を行うためのクラス
SystemConfig の一部を利用する

### N8Application

N8 アプリケーションの初期処理を行うためのクラス
ApplicationConfig の一部を利用し、その他 FW 提供機能をラップする
VoyageApplication を継承する

## 基底部分の機能

### ConfigManager

- system config を設定する
  - デバッグモード専用
- app config を設定する
  - デバッグモード専用
- system config を取得する
  - 全量リターン
- app config を取得する
  - 全量リターン
- app config から log config を Map にして全量リターンする
- app config から log level を Map にして全量リターンする
- log の root category を取得する
- app config から DB config を Map にして全量リターンする
- app config から HTTP config を Map にして全量リターンする
- app config から socket config を Map にして全量リターンする
- 【private】 config キーから共通部を排除し実キーを返す
  - 例：`result = createKey({ "log", "debug", "level" }, 2, ".")   // result = "level"`
- 【private】 config ファイルを読み込む
- 【private】 読み込んだ config を log に出力する

### ApplicationConfig

- 指定の設定値 String を取得する
- 指定の設定値 Boolean を取得する
- 指定の設定値 Long を取得する
- log config map を取得する
- log level map を取得する
- log の root level を取得する
- DB config map を取得する
- HTTP config map を取得する
- socket config map を取得する
- View 設定情報を取得する
  - config からフォントサイズ・色を取り出すメソッド。時期集配にいる？

### SystemConfig

- 指定の設定値 String を取得する
- 指定の設定値 Boolean を取得する
- 指定の設定値 Long を取得する
- デバッグモードかどうかを判定する
- 制限メソッドフラグを判定する
- 固定ロケールを使用しているかを判定する

### VoyageApplication

- context を取得する
- context helper を取得する
- common Map を取得する
- common Map を復元する
- common Map をクリアする
- Voyage 設定ファイルを読み込む
- Voyage 設定ファイル読み込み状態判定
- すべての設定ファイルをリロードする
  - config、log、DB、HTTP、socket
- config が変わったときにログを残して親クラスの onConfigurationChanged に移譲する
- 初期化
  - 開始時間の設定
  - 例外ハンドラの設定
  - Voyage config 読み込み
  - log オブジェクト生成
  - ViewManagers 初期化
- app 起動日時を取得する
- app 起動経過時間を取得する
- システムの空きメモリが足りなくなった場合にログを残して、親クラスの onLowMemory に移譲する
- onTerminate が発火した場合にログを残して、親クラスの onTerminate に移譲する
- 自 app がフォアグラウンドかどうかを判定する
- 補足していない例外を拾うハンドラ
- 権限リストを取得する
- app 情報を出力する

## N8Application

#### 初期化時に行ったこと

- log オブジェクト生成
- 設定アプリデータ取得用 BroadcastReceiver 登録
- pp 汎用マスタヘルパー初期化
- ミドル暗号復号ヘルパー初期化
- ミドル暗号復号サービス強制起動
- フィードバック初期化
- application 状態取得リスナーを設定
- フィードバックリソース関連の処理
- 練習モード切り替えのリスナー設定
- 通知ヘルパー初期化
- 設定アプリデータ取得用 broadcast 送信

#### 提供する機能

- ホーム遷移先の制御用フラグを更新する
  - 疑問：既存システムが複数アプリで構築されてるがゆえの機能？
  - メソッド名：setN8FixedHomeControl
- ホーム遷移先の制御用フラグを取得する
  - 疑問：既存システムが複数アプリで構築されてるがゆえの機能？
  - メソッド名：isN8FixedHomeControl
- log level を取得する
- log level を設定する
- 練習モードの設定値を取得する
- 練習モードを設定する
- 練習モードを適応する
- フィードバックの設定を適応する
- フィードバック値を取得する
- フィードバック値を設定する
- 暗号復号サービスのバインド状態を取得する
- DB サービスの自動バインド値を取得する
- DB サービスのバインド状態を取得する
- ミドルウェア DB サービスにバインドする
- N8application インスタンスを取得する
- 初期化状態を取得する
- 指定した例外とエラーコードでアプリケーションを強制終了する
  - デフォルト引数：`String errorCode = "99", Throwable t = new runtimeException, boolean throwFlg = true`
- 内部通知件数を取得する
  - 疑問：ここより下の内部/外部は既存システムが複数アプリで構築されてるがゆえの概念？
- 内部通知件数を設定する
- 外部通知件数を取得する
- 外部通知件数を設定する
- 電話通知件数を取得する
- 電話通知件数を設定する
- メール通知件数を取得する
- メール通知件数を設定する
- SMS 通知件数を取得する
- SMS 通知件数を設定する
- 内部通知グループ件数を取得する
- 内部通知遷移先パッケージ名を取得する
- 内部通知遷移先アクティビティ名を取得する
- 内部通知グループ情報を設定する
- 外部通知グループ件数を取得する
- 外部通知遷移先パッケージ名を取得する
- 外部通知遷移先アクティビティを取得する
- 外部通知グループ情報を設定する
- 通知件数を取得する
  - 内部・外部通知を取得してコンテナマップに格納する
- 通知件数を設定する
  - コンテナマップから内部・外部通知の設定値を設定する
- 通知件数をロードする
  - 内部・外部通知の設定値を取得する
- 通知件数を更新する
  - コンテナマップから内部・外部通知を更新する
- 内部通知件数を更新する
- 外部通知件数を更新する
- メール通知件数を更新する
- 電話通知件数を更新する
- SMS 通知件数を更新する
- 通知件数を更新する
- PP 汎用マスタを取得する
- PP 汎用マスタヘルパーを取得する
- CNC データベースアクセス名を設定する
- ロガーオブジェクトを取得する
- 共通プレファレンスからデータを読み込む
- 共通プレファレンスにデータを書き込む
- アプリケーションのフォアグラウンド切り替えリスナーを追加する
- アプリケーションのフォアグラウンド切り替えリスナーを削除する
- エラー情報の通知
  - エラー情報を元に ERRATA を作成してブロードキャストを送信する
- 警告情報の通知
  - 警告情報を元に ERRATA を作成してブロードキャストを送信する
- 通知情報の通知
  - 通知情報を元に ERRATA を作成してブロードキャストを送信する
- ダウンロード処理状態設定
- ダウンロード処理状態確認
- ダウンロード処理用 GlobalMutex 取得
- 通知用エラーデータ作成
- エラーコード作成
- MD5 生成
- 捕捉されない例外発生原因の抽出
- ルート例外の抽出
- スタックトレースエレメントの抽出
- Throwable を文字列に変換んする
- リソース取得
- 自動転送 FEP のみモードを更新する
- 自動転送 FEP のみモードを取得する
